import"./base-5abc892d.js";import{u as V,b as $,c as F,d as j,f as q}from"./el-overlay-f2a1ea88.js";import"./el-message-cfa4b0b8.js";import"./el-tooltip-9505b920.js";import{f as M}from"./el-button-9b3b308d.js";import{s as R}from"./index-320edd99.js";import{d as G,au as z,o as a,c as h,p as g,aL as k,a as p,w as o,y as u,F as U,aw as H,m as _,a5 as d,u as v,ax as J}from"./runtime-core.esm-bundler-e80ae98b.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";const O={class:"content"},Q={class:"header"},W={class:"title"},X={class:"table"},Y={class:"pagination"},Z=G({__name:"page-content",props:{contentConfig:null},emits:["newUserClick","editUserClick"],setup(l,{expose:S,emit:b}){const w=l,f=V(),C=z(1),m=z(10);r();const{pageList:T,pageTotalCount:E}=R(f),N=()=>{r()},B=()=>{r()},L=t=>{f.deletePageUserByIdAction(w.contentConfig.pageName,t),r()},P=t=>{b("editUserClick",t)},I=()=>{b("newUserClick")};function r(t={}){const n=m.value,c=(C.value-1)*n,y={...{size:n,offset:c},...t};f.getPageListAction(w.contentConfig.pageName,y)}return S({fetchPageList:r}),(t,n)=>{var x;const c=M,i=$,y=F,A=j;return a(),h("div",O,[g("div",Q,[g("h3",W,k(((x=l.contentConfig.header)==null?void 0:x.title)??"数据列表"),1),p(c,{type:"primary",onClick:I},{default:o(()=>{var e;return[u(k(((e=l.contentConfig.header)==null?void 0:e.btnTitle)??"新建数据"),1)]}),_:1})]),g("div",X,[p(y,d({data:v(T),border:"",style:{width:"100%"}},l.contentConfig.childrenTree),{default:o(()=>[(a(!0),h(U,null,H(l.contentConfig.propsList,e=>(a(),h(U,{key:e.label},[e.type==="timer"?(a(),_(i,d({key:0,align:"center"},e),{default:o(s=>[u(k(v(q)(s.row.createAt)),1)]),_:2},1040)):e.type==="handler"?(a(),_(i,{key:1,align:"center",label:"操作"},{default:o(s=>[p(c,{icon:"Edit",text:"",type:"primary",onClick:D=>P(s.row)},{default:o(()=>[u("编辑 ")]),_:2},1032,["onClick"]),p(c,{icon:"Delete",text:"",type:"danger",onClick:D=>L(s.row.id)},{default:o(()=>[u("删除 ")]),_:2},1032,["onClick"])]),_:1})):e.type==="custom"?(a(),_(i,d({key:2,align:"center"},e),{default:o(s=>[J(t.$slots,e.slotName,d(s,{prop:e.prop,age:"14"}),void 0,!0)]),_:2},1040)):(a(),_(i,d({key:3,align:"center"},e),null,16))],64))),128))]),_:3},16,["data"])]),g("div",Y,[p(A,{"current-page":C.value,"onUpdate:current-page":n[0]||(n[0]=e=>C.value=e),"page-size":m.value,"onUpdate:page-size":n[1]||(n[1]=e=>m.value=e),"page-sizes":[10,20,30],small:"small",layout:"total, sizes, prev, pager, next, jumper",total:v(E),onSizeChange:N,onCurrentChange:B},null,8,["current-page","page-size","total"])])])}}});const ce=K(Z,[["__scopeId","data-v-e13fe125"]]);export{ce as p};
